<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Deep in the weeds (Posts about reverse engineering)</title><link>https://blog.mattice.org/</link><description></description><atom:link rel="self" type="application/rss+xml" href="https://blog.mattice.org/categories/reverse-engineering.xml"></atom:link><language>en</language><lastBuildDate>Thu, 04 May 2017 23:15:33 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Interesting-ish finds</title><link>https://blog.mattice.org/posts/interesting-ish-finds/?utm_source=/categories/reverse-engineering.xml&amp;utm_medium=nikola_feed&amp;utm_campaign=rss_feed</link><dc:creator>Mike Mattice</dc:creator><description>&lt;div&gt;&lt;p&gt;I found out from a fellow Techlahoman on the &lt;a class="reference external" href="https://techlahoma.slack.com"&gt;slack&lt;/a&gt; that those connectors in &lt;a class="reference external" href="https://blog.mattice.org/posts/raritan-is-helping-us-out-some"&gt;my last post&lt;/a&gt; are JST-SSH.  Luckily, &lt;a class="reference external" href="https://digikey.com"&gt;Digikey&lt;/a&gt; carries both genders of these connectors. They also carry some &lt;a class="reference external" href="https://www.digikey.com/product-detail/en/jst-sales-america-inc/ASSHSSH28K305/455-3077-ND/6009453"&gt;SSH jumpers&lt;/a&gt; that can be hacked up for our purposes.  I ended up &lt;a class="reference external" href="https://youtu.be/wdoX2__H14s"&gt;soldering&lt;/a&gt; a 6 pin header onto the board to match the other JST connectors.&lt;/p&gt;
&lt;p&gt;I also prepped a few sets of cables with JST "connector housings" on one end and male header pins on the other end.&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://blog.mattice.org/images/d2cim-dvusb_JST_Cables.jpg"&gt;&lt;img alt="D2CIM-DVUSB JST Cables" class="align-center" src="https://blog.mattice.org/images/d2cim-dvusb_JST_Cables.thumbnail.jpg"&gt;&lt;/a&gt;
&lt;p&gt;In other news, in doing some digging, it appears as though the Cypress CY7C68013 on this board is connected A0-A15 to the flash chip, which has 8 times the address space of the 8051 in the 68013.  To that end, they have some GPIO stuck to the highest three bits of the flash.&lt;/p&gt;
&lt;table border="1" class="docutils align-center"&gt;
&lt;caption&gt;U1&amp;lt;-&amp;gt;U2 connections&lt;/caption&gt;
&lt;colgroup&gt;
&lt;col width="53%"&gt;
&lt;col width="47%"&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;U1&lt;/th&gt;
&lt;th class="head"&gt;U2&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;PD5/FD13&lt;/td&gt;
&lt;td&gt;A16&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;PD6/FD14&lt;/td&gt;
&lt;td&gt;A17&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;PD7/FD15&lt;/td&gt;
&lt;td&gt;A18&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The EA pin of the 68013 is also tied strongly to ground, which means it's using the internal 16KB of RAM is being used for code and data.  I also found that the I2C bus was connected to a 64KB SOIC flash chip.  I hot-aired that off the board and &lt;a class="reference external" href="https://youtu.be/QAESOijbWL4"&gt;wired it up&lt;/a&gt; to some ribbon cable with a 10pin IDC connector on it that fits directly into my BusPirate 3.6.&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://blog.mattice.org/images/d2cim-dvusb_BP_flash.jpg"&gt;&lt;img alt="D2CIM-DVUSB Bus Pirate flash assembly" class="align-center" src="https://blog.mattice.org/images/d2cim-dvusb_BP_flash.thumbnail.jpg"&gt;&lt;/a&gt;
&lt;p&gt;Dumping the chip seems to give me 4 copies of the same 16KB of data.  I'm not sure if they've programmed it 4 times or if I have the part number wrong and it's only a 16KB flash chip.  In either case, I'll be trying to determine what the code is doing.&lt;/p&gt;&lt;/div&gt;</description><category>d2cim-dvusb</category><category>hardware</category><category>reverse engineering</category><category>tech</category><guid>https://blog.mattice.org/posts/interesting-ish-finds/</guid><pubDate>Thu, 04 May 2017 22:31:15 GMT</pubDate></item><item><title>Raritan is helping us out some</title><link>https://blog.mattice.org/posts/raritan-is-helping-us-out-some/?utm_source=/categories/reverse-engineering.xml&amp;utm_medium=nikola_feed&amp;utm_campaign=rss_feed</link><dc:creator>Mike Mattice</dc:creator><description>&lt;div&gt;&lt;p&gt;In the spirit of other RE people, I've heard that you should always have three of the thing you're tearing apart.  One to break, one to RE and one to have a known good to test against.&lt;/p&gt;
&lt;p&gt;I also just wanted a few more devices to connect to the KX2-416 eventually anyway, so I'd ordered a couple more D2CIM-DVUSB's.  I popped them open and...&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://blog.mattice.org/images/d2cim-dvusb_J4_J5_jacks.jpg"&gt;&lt;img alt="D2CIM-DVUSB J4/J5 jacks" class="align-center" src="https://blog.mattice.org/images/d2cim-dvusb_J4_J5_jacks.thumbnail.jpg"&gt;&lt;/a&gt;
&lt;p&gt;Now, these two connectors look exactly like the connector they're using on the end of the board and here's the plug for that.&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://blog.mattice.org/images/d2cim-dvusb_USB_cable_end.jpg"&gt;&lt;img alt="D2CIM-DVUSB J4/J5 jacks" class="align-center" src="https://blog.mattice.org/images/d2cim-dvusb_USB_cable_end.thumbnail.jpg"&gt;&lt;/a&gt;
&lt;p&gt;So now, I just need to figure out what kind of connector this is.&lt;/p&gt;&lt;/div&gt;</description><category>d2cim-dvusb</category><category>hardware</category><category>reverse engineering</category><category>tech</category><guid>https://blog.mattice.org/posts/raritan-is-helping-us-out-some/</guid><pubDate>Wed, 26 Apr 2017 22:30:51 GMT</pubDate></item><item><title>Tearing open a Raritan D2CIM-DVUSB</title><link>https://blog.mattice.org/posts/tearing-open-a-raritan-d2cim-dvusb/?utm_source=/categories/reverse-engineering.xml&amp;utm_medium=nikola_feed&amp;utm_campaign=rss_feed</link><dc:creator>Mike Mattice</dc:creator><description>&lt;div&gt;&lt;p&gt;I got a KX2-416 from a popular auction site on the internet a few days ago plus a cheap (seemingly unused to boot) D2CIM-DVUSB from another seller.  The DVUSB arrived well before the 416 and I got curious, so I opened it up to see what makes it tick.&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://blog.mattice.org/images/d2cim-dvusb_board_top.jpg"&gt;&lt;img alt="Top of D2CIM-DVUSB board" class="align-center" src="https://blog.mattice.org/images/d2cim-dvusb_board_top.thumbnail.jpg"&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="https://blog.mattice.org/images/d2cim-dvusb_board_bottom.jpg"&gt;&lt;img alt="Bottom of D2CIM-DVUSB board" class="align-center" src="https://blog.mattice.org/images/d2cim-dvusb_board_bottom.thumbnail.jpg"&gt;&lt;/a&gt;
&lt;p&gt;After poking at it a bit, I found a few potentially useful doors into the chips and some circuit paths that look interesting.&lt;/p&gt;
&lt;a class="reference external image-reference" href="https://blog.mattice.org/images/d2cim-dvusb_U12_CD4053B_U13_24LCS22A.jpg"&gt;&lt;img alt="Close up CD4053B and 24LCS22A" class="align-center" src="https://blog.mattice.org/images/d2cim-dvusb_U12_CD4053B_U13_24LCS22A.thumbnail.jpg"&gt;&lt;/a&gt;
&lt;p&gt;The chip on the left is a TI CD4053B (triple 2-channel multiplexer) and the one on the right is a Microchip 24LCS22A (2K VESA E_EDID Serial EEPROM).&lt;/p&gt;
&lt;table border="1" class="docutils align-center"&gt;
&lt;caption&gt;U12&amp;lt;-&amp;gt;U13 connections&lt;/caption&gt;
&lt;colgroup&gt;
&lt;col width="53%"&gt;
&lt;col width="47%"&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;U12&lt;/th&gt;
&lt;th class="head"&gt;U13&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;A Com(14)&lt;/td&gt;
&lt;td&gt;SDA(5)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;B Com(15)&lt;/td&gt;
&lt;td&gt;SCL(6)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;C Com(4)&lt;/td&gt;
&lt;td&gt;VCLK(7)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;So, it appears as though something wants to switch the EDID EEPROM between a couple of things.&lt;/p&gt;
&lt;p&gt;I traced a couple of connections through to the VGA connector.&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;caption&gt;VGA&amp;lt;-&amp;gt;U12 connections&lt;/caption&gt;
&lt;colgroup&gt;
&lt;col width="58%"&gt;
&lt;col width="42%"&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;VGA&lt;/th&gt;
&lt;th class="head"&gt;U12&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;DDC CLK(15)&lt;/td&gt;
&lt;td&gt;By(1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;DDC DAT(12)&lt;/td&gt;
&lt;td&gt;Ay(13)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;It also appears as though the JTAG pins are brought out to unpopulated headers
for both the AT90USB646 and the Altera EP2C5.&lt;/p&gt;
&lt;p&gt;I'm waiting on some headers from the next state over to attach with some wirewrap wire to those ports.&lt;/p&gt;&lt;/div&gt;</description><category>d2cim-dvusb</category><category>hardware</category><category>reverse engineering</category><category>tech</category><guid>https://blog.mattice.org/posts/tearing-open-a-raritan-d2cim-dvusb/</guid><pubDate>Sat, 22 Apr 2017 17:39:14 GMT</pubDate></item></channel></rss>